# קובץ ניסוי להורדה מגוגל דרייב

קובץ זה מאפשר לבדוק את הורדת הקבצים מגוגל דרייב באמצעות הפלאגין של המערכת.

## דרישות מקדימות

1. קובץ הרשאות של גוגל דרייב בשם `credentials.json` בתיקיית הפרויקט

## הגדרת קובץ הרשאות

ניתן להגדיר את חשבון השירות וההרשאות בשתי דרכים:

1. דרך ממשק האינטרנט של [Google Cloud Console](https://console.cloud.google.com)
2. דרך ה-CLI באמצעות gcloud (ראה [הוראות מפורטות](gcloud-setup.md))

בסוף התהליך צריך להיות קובץ `credentials.json` בתיקיית הפרויקט.

## הרשאות נדרשות

1. יש לשתף את הקבצים בגוגל דרייב עם כתובת המייל של חשבון השירות (מופיעה בשדה `client_email` בקובץ ההרשאות)
2. מספיקה הרשאת צפייה (Viewer) לקבצים

## שימוש

1. יש לוודא שקובץ ההרשאות נמצא בתיקיית הפרויקט בשם `credentials.json`
2. יש לוודא שתיקיית `downloads` קיימת בתיקיית הפרויקט
3. הרצת הקובץ:
   ```bash
   npm run build
   node dist/tests/test-drive.js [מזהה-קובץ-בגוגל-דרייב]
   ```

הקובץ יורד לתיקיית `downloads` בתיקיית הפרויקט עם השם `download-[שם-הקובץ-המקורי]`.

## דוגמה

```bash
node dist/tests/test-drive.js 1a2b3c4d5e6f7g8h9i0j
```

## הערות

- הקובץ חייב להיות מסוג וידאו
- חייבות להיות הרשאות צפייה לקובץ עבור ה-Service Account
- הקובץ יורד במלואו לתיקיית downloads
